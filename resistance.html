<html lang='ja'>
  <head>
    <meta charset='UTF-8'>
  </head>
  <body>
    <div class='colors' id='resistance1'>
      <div class='code space'></div>
      <div class='code brown' data='1'></div>
      <div class='code red' data='2'></div>
      <div class='code orange' data='3'></div>
      <div class='code yellow' data='4'></div>
      <div class='code green' data='5'></div>
      <div class='code blue' data='6'></div>
      <div class='code purple' data='7'></div>
      <div class='code gray' data='8'></div>
      <div class='code white' data='9'></div>
      <div class='code space'></div>
    </div>
    <div class='colors' id='resistance2'>
      <div class='code space'></div>
      <div class='code black' data='0'></div>
      <div class='code brown' data='1'></div>
      <div class='code red' data='2'></div>
      <div class='code orange' data='3'></div>
      <div class='code yellow' data='4'></div>
      <div class='code green' data='5'></div>
      <div class='code blue' data='6'></div>
      <div class='code purple' data='7'></div>
      <div class='code gray' data='8'></div>
      <div class='code white' data='9'></div>
      <div class='code space'></div>
    </div>
    <div class='colors' id='resistance3'>
      <div class='code space'></div>
      <div class='code black' data='0'></div>
      <div class='code brown' data='1'></div>
      <div class='code red' data='2'></div>
      <div class='code orange' data='3'></div>
      <div class='code yellow' data='4'></div>
      <div class='code green' data='5'></div>
      <div class='code blue' data='6'></div>
      <div class='code purple' data='7'></div>
      <div class='code gray' data='8'></div>
      <div class='code white' data='9'></div>
      <div class='code space'></div>
    </div>
    <div class='colors' id='resistance4'>
      <div class='code space'></div>
      <div class='code brown' data='1'></div>
      <div class='code red' data='2'></div>
      <div class='code gold' data='10'></div>
      <div class='code silver' data='11'></div>
      <div class='code none' data='12'></div>
      <div class='code space'></div>
    </div>
    <script>
      var r1 = document.getElementById('resistance1');
      var r2 = document.getElementById('resistance2');
      var r3 = document.getElementById('resistance3');
      var r4 = document.getElementById('resistance4');
      var isScroll = true;
      
      window.onload = setResistance;
      window.onhashchange = setResistance;
      r1.onscroll = getResistance;
      r2.onscroll = getResistance;
      r3.onscroll = getResistance;
      
      function getResistance() {
        var re,sis,tan,ce;
        re = scrollIndex(r1) + 1;
        sis = scrollIndex(r2);
        tan = scrollIndex(r3);
        ce = scrollIndex(r4);
      
        var resistance = (re*10 + sis) *  Math.pow(10,tan);
        var deniminations = ['','k','M','G'];
        for(var i=0; i<deniminations.length; i++) {
          if(resistance < Math.pow(10, (i + 1)*3)) { break; }
        }
        resistance /= Math.pow(10, i*3);
        resistance = resistance + deniminations[i];
        isScroll = false;
        location.hash = resistance;
      }
      
      function scrollIndex(element) {
        return Math.round( element.scrollTop / (element.scrollHeight - element.offsetHeight ) * (element.childElementCount - 3) );
      }
      
      function setResistance() {
        var resistance = location.hash.replace('#','');
        if (!(/^[1-9]\.?[0-9]*[kMG]?$/i).test(resistance)) return;
      
        var deniminations = ['k','M','G'];
        var zeros = '';
        for(var i=0; i<deniminations.length; i++) {
          var reg = new RegExp(deniminations[i], 'i');
          if(reg.test(resistance)) {
            resistance = resistance.replace(reg, '') * Math.pow(1000, i+1);
            break;
          }
        }
        resistance -= 0;
      
        for(var i=0; resistance > 10; i++) { resistance /= 10; }
        var digits = i - 1;
        var dig1 = Math.floor(resistance);
        var dig2 = Math.round((resistance - dig1) * 10);
        var dig4 = 2;
      
        if(isScroll) {
          scrollTo(r1, dig1 - 1);
          scrollTo(r2, dig2);
          scrollTo(r3, digits);
          scrollTo(r4, dig4);
        }
        isScroll = true;
      }
      
      function scrollTo(element, index) {
        element.scrollTop = index * (element.scrollHeight - element.offsetHeight ) / (element.childElementCount - 3);
      }
    </script>
    <style>
      body{ margin: 0; }
      .colors{
        width: 25%;
        height: 100%;
        float: left;
        overflow: scroll;
      }
      .code{
        width: 100%;
        height: 80%;
      }
      .space{ height: 10%; }
      .black{ background-color : #202020 }
      .brown{ background-color : #AF482B }
      .red{ background-color : #E8302B }
      .orange{ background-color : #E9952F }
      .yellow{ background-color : #F5EE29 }
      .green{ background-color : #24B324 }
      .blue{ background-color : #1B8AC1 }
      .purple{ background-color : #7064AA }
      .gray{ background-color : #8E8E8E }
      .white{ background-color : #F0F0F0 }
      .gold{ background-color : #E4DA82 }
      .silver{ background-color : #C1CBD9 }
      .none{ background-color : #A3E4E1 }
    </style>
  </body>
</html>
